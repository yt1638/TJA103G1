<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>登入</title>
        
        <link rel="stylesheet" th:href="@{/css/member/member.css}">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
        <link
            href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&family=LXGW+WenKai+Mono+TC&display=swap"
            rel="stylesheet">
        <style>
            .mainPart{
                margin: 2% auto 0;
                padding: 20px;
                height: 80%;
                display: flex;
                justify-content: center;
                align-items: center;
                gap: 40px;
                border: 4px solid white;
                border-radius: 20px;
            }
            .mainPartImg{
                margin: 1% 6%;
                height: 530px;
                width: 850px;
                border-radius: 20px;
            }


            /* 圖片動畫 */
            .coverflow{
                width: 850px;
                height: 530px;
                position: relative;
            }

            .coverflow>a{
                display: block;
                position: absolute;
                top:0;
                left:0;
                opacity: 0;
                filter: alpha(opacity=0);
            /*當圖片數量增加，影片長度需更改，變為5s*圖片數量*/
                -webkit-animation: silder 25s linear infinite;
                animation: silder 25s linear infinite;
            }

            .coverflow>a>img{
                max-width: 100%;
            }

            /*動畫關鍵影格*/
            @-webkit-keyframes silder {
                3% {
                    opacity: 1;
                    filter: alpha(opacity=100);
                }
                27% {
                    opacity: 1;
                    filter: alpha(opacity=100);
                }
                30% {
                    opacity: 0;
                    filter: alpha(opacity=0);
                }
            }

            @keyframes silder {
                3% {
                    opacity: 1;
                    filter: alpha(opacity=100);
                }
                27% {
                    opacity: 1;
                    filter: alpha(opacity=100);
                }
                30% {
                    opacity: 0;
                    filter: alpha(opacity=0);
                }
            }

            /*每個圖片各延遲5秒*/
            .coverflow>a:nth-child(5) {
                -webkit-animation-delay: 20s;
                        animation-delay: 20s;               
            }
            .coverflow>a:nth-child(4) {
                -webkit-animation-delay: 15s;
                        animation-delay: 15s;               
            }
            .coverflow>a:nth-child(3) {
                -webkit-animation-delay: 10s;
                        animation-delay: 10s;               
            }

            .coverflow>a:nth-child(2) {
                -webkit-animation-delay: 5s;
                        animation-delay: 5s;
            }

            .coverflow>a:nth-child(1) {
                -webkit-animation-delay: 0s;
                        animation-delay: 0s;    
            }
            /*滑入時停止播放*/
            .coverflow:hover>a{
            -webkit-animation-play-state: paused;
                    animation-play-state: paused;
            }


            .loginBody{
                background: linear-gradient(0deg, rgb(84, 84, 83) 0%, rgb(75, 79, 107) 16%, rgb(50, 45, 118) 65%) no-repeat center center fixed;
                padding: 20px;
            }
            .loginContent{
                position: static;
                margin: 1% auto;
                width: 30%;
                padding: 20px;
                border-radius: 15px;
                border: 2px solid rgb(243, 242, 242);
                box-shadow: 10px 10px 10px rgba(234, 232, 232, 0.568);
            }
            .loginLogo{
                display: block;
                margin: 0 auto;
                width: 150px;
                height: auto;
                margin-bottom: 20px;
            }
            .contentTitle{
                text-align: center;
                font-weight: bold;
                font-family: "LXGW WenKai Mono TC", sans-serif;
            }
            .formInfo{
                display: block;
                margin: 40px auto;
                text-align: center;
            }
            .formInfo p{
                font-size: 18px;
                margin: 25px;
                font-weight: bold;
            }
            .forgetPwd{
                text-align: center;
                font-weight: bold;
                padding-left: 180px;
                margin-top: -15px;
                color: rgb(80, 74, 163);
                cursor: pointer;
            }
            .linkToForgetPwd{
                text-decoration: none;
                color: rgb(80, 74, 163);
            }
            .btn{
                display: block;
                width: 50%;
                margin: 20px auto;
                text-align: center;
            }
            .signupBtn{
            	height: 35px;
            }
            .signupBtn a{
            	color: white !important;
                font-weight: bold;
                border: none;
                text-decoration: none !important;
            }
            .loginBtn{
                background-color: rgb(80, 74, 163);
                color: white;
                font-weight: bold;
                border: none;
                
            }
            .loginBtn:hover{
                background-color: rgb(60, 54, 143);
                color: white;
            }
            
            .seePwd{
                opacity: 0;
                width: 0;
            }

            .seePwdImg{
                width: 20px;
                height: 16px;
                margin-top: 2px;
            }
            .emailP{
            	width: 315px;
            }
            .pwdP{
            	width: 340px;
            }
            
        </style>

    </head>
    <body class="loginBody beforeLoginBody">
        <div class="mainPart beforeLoginMainPart">
            <div id="cover" class="coverflow">
                <a><img class="mainPartImg" th:src="@{/img/member/cinema.png}" alt="cinema"></a>
                <a><img class="mainPartImg" th:src="@{/img/member/ticketOffice.png}" alt="ticketOffice"></a>
                <a><img class="mainPartImg" th:src="@{/img/member/corridor.png}" alt="corridor"></a>
                <a><img class="mainPartImg" th:src="@{/img/member/foodShop.png}" alt="foodShop"></a>
                <a><img class="mainPartImg" th:src="@{/img/member/cinema2.png}" alt="cinema2"></a>
            </div>
            <div class="content loginContent">
                <img class="loginLogo" th:src="@{/img/member/logo0.png}" alt="Logo">
                <h2 class="contentTitle">登入&nbsp;LOGIN</h2>
                <hr>
                
                <div th:if="${successMsg}" class="alert alert-warning">[[${successMsg}]]</div>
                <p th:if="${loginError}" th:text="${loginError}" style="color:red; text-align:center;"></p>
                
                <form class="formInfo loginInfo" th:action="@{/loginAndRegister/memberLoginHandler}" method="post" name="loginForm">
                    <p class="emailP">帳號：
                        <input type="text" class="loginInput loginAccount" name="email" placeholder="請輸入帳號" required>
                    </p>
                    <p class="pwdP">密碼：
                        <input type="password" class="loginInput loginPassword memberPwdInput" name="password" placeholder="請輸入密碼" required>
                    	<label>
                            <input type="checkbox" class="seePwd"><img th:src="@{/img/member/eye.png}" alt="檢視密碼圖案" class="seePwdImg">
                        </label>
                    </p>
                    <p class="forgetPwd"><a class="linkToForgetPwd" th:href="@{/loginAndRegister/forgetPwd}">忘記密碼？</a></p>
                    <input type="submit" class="btn btn-warning loginBtn " value="登入">
                    <a class="btn btn-secondary signupBtn" th:href="@{/loginAndRegister/register}">註冊會員</a>
                </form>
            </div>
        </div>


        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
        <script>
	        let pwdInput = document.querySelector(".memberPwdInput");
	        let seePwdBtn = document.querySelector(".seePwd");
	        let seePwdImg = document.querySelector(".seePwdImg");
	        seePwdBtn.addEventListener("click", function(){
	            pwdInput.type = (pwdInput.type === "password")? "text": "password";
	        })
        </script>
    </body>
</html>