<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>會員系統–密碼變更</title>
        
        <link rel="stylesheet" th:href="@{/css/member/member.css}">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
        <link
            href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&family=LXGW+WenKai+Mono+TC&display=swap"
            rel="stylesheet">
        <style>

            .memberPwdLabel{
                font-weight: normal;
                font-size: 18px;
                margin: 5px 10px;
            }
            .memberPwdInput, .memberconfirmPwdInput{
                margin-left: 10px;
            }
            .seePwd, .openPwd{
                opacity: 0;
                width: 0;
            }

            .seePwdImg, .openPwdImg{
                width: 20px;
                height: 16px;
                margin-top: 2px;
            }
            .changePwBtn{
                margin-left: 10px;
            }
            .btn{
                display: block;
                width: 30%;
                margin: 20px;
                text-align: center;
            }
            .changePwBtn{
            	height: 35px;
            }
            .changePwBtn a{
            	color: white !important;
                font-weight: bold;
                border: none;
                text-decoration: none !important;
            }
            .changeMsg{
            	font-size: 14px !important;
				color: red;
				border-radius: 10px;
				background-color: rgba(251, 230, 211, 0.546);
				padding: 5px 20px;
				margin: 3px;
            }
            
        </style>

    </head>
    <body>
        <div th:replace="fragments/memberTopNav :: topNav"></div>
        
        <div class="inner">
            <div th:replace="fragments/memberLeftNav :: sideNav"></div>
            <div class="content memberContent memberChangePwContent">
                <h2 class="contentTitle">密碼變更</h2>
                <hr>
                <p class="changeMsg" th:if="${changePwdError}" th:text="${changePwdError}" style="color:red; text-align:left;"></p>
                <p class="changeMsg" th:if="${changePwdSuccess}" th:text="${changePwdSuccess}" style="color:red; text-align:left;"></p>
                <form class="memberInfo" th:action="@{/member/changePassword}" method="post">
                    <p>
                        <label class="memberPwdLabel">
                        	<strong >新密碼:</strong> 
                            <input type="password" name="newPwd" class="memberPwdInput" value="" placeholder="請輸入密碼">
                        </label>
                        <label>
                            <input type="checkbox" class="seePwd"><img th:src="@{/img/member/eye.png}" alt="檢視密碼圖案" class="seePwdImg">
                        </label>
                    </p>
                    <p>
                        <label class="memberPwdLabel">
                        	<strong>再次輸入密碼:</strong> 
                            <input type="password" name="confirmPwd" class="memberconfirmPwdInput" value="" placeholder="請再次輸入密碼">
                        </label>
                        <label>
                            <input type="checkbox" class="openPwd"><img th:src="@{/img/member/eye.png}" alt="檢視密碼圖案" class="openPwdImg">
                        </label>
                    </p>
	                <input type="submit" value="確認" class="btn btn-warning editBtn changePwBtn">
                </form>
            </div>
        </div>



        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
        <script>
            let pwdInput = document.querySelector(".memberPwdInput");
            let seePwdBtn = document.querySelector(".seePwd");
            let seePwdImg = document.querySelector(".seePwdImg");
            seePwdBtn.addEventListener("click", function(){
                pwdInput.type = (pwdInput.type === "password")? "text": "password";
            })
            
            let confirmPwdInput = document.querySelector(".memberconfirmPwdInput");
            let openPwdBtn = document.querySelector(".openPwd");
            let openPwdImg = document.querySelector(".openPwdImg");
            openPwdBtn.addEventListener("click", function(){
            	confirmPwdInput.type = (confirmPwdInput.type === "password")? "text": "password";
            })
        </script>
        
            
    </body>
</html>