<div th:fragment="content">
  <style>
    /* 保持原有的基礎樣式 */
    .page-title{ font-size:30px; font-weight:800; color:#2f3b4a; margin:10px 0 18px;}
    .msg-box{ margin-top:10px; border:1px solid #d9d9d9; border-radius:5px; background:#fff; padding:0;}
    .msg-textarea{ width:100%; min-height:150px; border:0; outline:0; resize: vertical; padding:14px; font-size:18px; line-height:1.7; color:#2f3b4a;}
    .msg-textarea::placeholder{ color:#9aa4b2; font-weight:600;}

    /* 移植喜好通知的灰色外盒樣式 */
    .schedule-box{
      margin-top:16px;
      background:#ededed;
      border-radius:12px;
      padding:18px 22px;
      max-width:500px; /* 限制寬度與喜好通知一致 */
    }
    .schedule-title{
      font-weight:700;
      color:#7a7a7a;
      margin-bottom:12px;
      font-size:16px;
    }
    .schedule-row{ 
      display:flex; 
      align-items:center; 
      gap:12px;
      font-weight: 700; /* 讓文字「提前」「小時發送」字重一致 */
      color: #4b5563;
    }

    /* 調整 input 視覺，使其與 select 高度與邊框一致 */
    .schedule-row input{ 
      width:100px; /* 稍微加大寬度 */
      height:44px; /* 與 select 同高 */
      border:1px solid #cfcfcf; 
      border-radius:6px; 
      padding:0 12px; 
      font-size:16px;
      background:#fff;
      font-weight:700;
      color:#4b5563;
      outline: none;
    }

    .btn-black-sm{ background:#111; color:#fff; border:1px solid #111; padding:8px 14px; border-radius:4px; font-weight:700; font-size:14px; cursor: pointer;}
    .btn-black-sm:hover{ filter:brightness(.95); }
    
    .error{ color:#d60000; font-weight:800; margin-top:8px; display:block;}
    .flash{ max-width:900px; margin:10px 0 0; padding:12px 14px; border-radius:8px; font-weight:800;}
    .flash-ok{ background:#e9fff0; border:1px solid #b7f0c7; color:#146c2e;}
    .flash-err{ background:#fff0f0; border:1px solid #f3bcbc; color:#a40000;}
  </style>

  <div class="container-fluid">
    <div class="page-title">開演通知編輯</div>

    <div th:if="${success}" class="flash flash-ok" th:text="${success}"></div>
    <div th:if="${error}" class="flash flash-err" th:text="${error}"></div>

    <form th:action="@{/notification_showstart/update}" method="post" th:object="${messageVO}">
      
      <div class="msg-box">
        <textarea class="msg-textarea"
                  th:field="*{msgContent}"
                  placeholder="親愛的用戶您好：&#10;此封訊息為提醒您電影開演的時間..."
                  onclick="hideContent('msgContent.errors');"></textarea>
      </div>
      <span th:if="${#fields.hasErrors('msgContent')}"
            th:errors="*{msgContent}"
            class="error"
            id="msgContent.errors"></span>

      <div class="schedule-box">
        <div class="schedule-title">設定發送時間:</div>
        <div class="schedule-row">
          提前
          <input type="number" th:field="*{preHours}" placeholder="小時" min="1">
          小時發送
          <button class="btn-black-sm" type="submit">儲存設定</button>
        </div>
      </div>

    </form>
  </div>

  <script>
    function hideContent(id){
      const el = document.getElementById(id);
      if(el) el.style.display = "none";
    }
  </script>
</div>