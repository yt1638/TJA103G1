<div th:fragment="content">
  <style>
    .page-title {
      font-size: 24px;
      font-weight: 700;
      color: #1f3c88;
      border-bottom: 2px solid #1f3c88;
      padding-bottom: 4px;
      margin-bottom: 18px;
      display: inline-block;
    }

    .hint {
      font-weight: 700;
      color: #111;
      margin-bottom: 14px;
    }

    .error {
      color: #dc3545;
      font-weight: 700;
      display: inline-block;
      margin-top: 6px;
    }

    .card-wrap {
      border-radius: 14px;
      overflow: hidden;
    }

    .readonly-input {
      border: 0;
      background: transparent;
      font-weight: 800;
      padding-left: 0;
    }
  </style>

  <div class="container-fluid">

    <!-- 標題列 + 右上按鈕 -->
    <div class="d-flex justify-content-between align-items-center mb-3">
      <span class="page-title">員工資料修改</span>

      <div class="d-flex" style="gap:10px; flex-wrap:wrap;">
        <a class="btn btn-outline-secondary" th:href="@{/employee_data/select_page}">回查詢頁</a>
        <a class="btn btn-outline-primary" th:href="@{/employee_data/listAllEmployeeData}">List All</a>
      </div>
    </div>

    <div class="hint">所有欄位皆為必填欄位</div>

    <div class="card shadow card-wrap">
      <div class="card-body">

        <form th:action="@{/employee_data/update}"
              method="post"
              th:object="${employeeDataVO}"
              enctype="multipart/form-data">

          <!-- 員工編號（readonly） -->
          <div class="form-group">
            <label class="font-weight-bold">員工編號</label>
            <input type="text"
                   class="form-control readonly-input"
                   th:field="*{empId}"
                   readonly>
          </div>

          <div class="form-row">
            <div class="form-group col-md-6">
              <label class="font-weight-bold">員工姓名</label>
              <input type="text" class="form-control"
                     th:field="*{empName}"
                     onclick="hideContent('empName.errors');">
              <span th:if="${#fields.hasErrors('empName')}"
                    th:errors="*{empName}"
                    class="error"
                    id="empName.errors"></span>
            </div>

            <div class="form-group col-md-6">
              <label class="font-weight-bold">員工帳號</label>
              <input type="text" class="form-control"
                     th:field="*{empAccount}"
                     onclick="hideContent('empAccount.errors');">
              <span th:if="${#fields.hasErrors('empAccount')}"
                    th:errors="*{empAccount}"
                    class="error"
                    id="empAccount.errors"></span>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group col-md-6">
              <label class="font-weight-bold">員工密碼</label>
              <input type="text" class="form-control"
                     th:field="*{empPassword}"
                     onclick="hideContent('empPassword.errors');">
              <span th:if="${#fields.hasErrors('empPassword')}"
                    th:errors="*{empPassword}"
                    class="error"
                    id="empPassword.errors"></span>
            </div>

            <div class="form-group col-md-6">
              <label class="font-weight-bold">員工信箱</label>
              <input type="text" class="form-control"
                     th:field="*{empEmail}"
                     onclick="hideContent('empEmail.errors');">
              <span th:if="${#fields.hasErrors('empEmail')}"
                    th:errors="*{empEmail}"
                    class="error"
                    id="empEmail.errors"></span>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group col-md-4">
              <label class="font-weight-bold">員工狀態</label>
              <input type="text" class="form-control"
                     th:field="*{empStatus}"
                     onclick="hideContent('empStatus.errors');">
              <span th:if="${#fields.hasErrors('empStatus')}"
                    th:errors="*{empStatus}"
                    class="error"
                    id="empStatus.errors"></span>
            </div>

            <div class="form-group col-md-4">
              <label class="font-weight-bold">到職日期</label>
              <input type="date" class="form-control"
                     th:field="*{empCreateTime}"
                     onclick="hideContent('empCreateTime.errors');">
              <span th:if="${#fields.hasErrors('empCreateTime')}"
                    th:errors="*{empCreateTime}"
                    class="error"
                    id="empCreateTime.errors"></span>
            </div>

            <div class="form-group col-md-4">
              <label class="font-weight-bold">員工權限</label>
              <input type="text" class="form-control"
                     th:field="*{empPermissions}"
                     onclick="hideContent('empPermissions.errors');">
              <span th:if="${#fields.hasErrors('empPermissions')}"
                    th:errors="*{empPermissions}"
                    class="error"
                    id="empPermissions.errors"></span>
            </div>
          </div>

          <div class="d-flex" style="gap:10px; flex-wrap:wrap;">
            <button type="submit" class="btn btn-dark">送出修改</button>
            <a class="btn btn-outline-secondary" th:href="@{/employee_data/select_page}">取消</a>
          </div>

        </form>
      </div>
    </div>

  </div>

  <script>
    function hideContent(id) {
      var el = document.getElementById(id);
      if (el) el.style.display = "none";
    }
  </script>
</div>
