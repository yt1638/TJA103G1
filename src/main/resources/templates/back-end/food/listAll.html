<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>餐飲管理 - 列表</title>
<style>
    /* 核心佈局 */
    body {
        font-family: "微軟正黑體", Arial, sans-serif;
        background-color: #f4f7f6;
        margin: 0;
        padding: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .main-container {
        width: 95%;
        max-width: 1200px;
    }

    /* 標題區塊 */
    #table-1 {
        width: 100%;
        background-color: #f8abb2;
        margin-bottom: 20px;
        border-radius: 10px;
        border: 1px solid #eccbcd;
    }

    #table-1 h3 {
        color: #333;
        margin: 15px;
        letter-spacing: 2px;
    }

    /* 全部餐點按鈕 */
    .btn-all {
        background-color: #ffc1c1;
        color: #333;
        border: none;
        padding: 8px 25px;
        border-radius: 5px;
        cursor: pointer;
        font-weight: bold;
        text-decoration: none;
        display: inline-block;
        transition: background 0.3s, transform 0.2s;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        margin-bottom: 20px;
    }

    .btn-all:hover {
        background-color: #ff9e9e;
        transform: translateY(-2px);
        color: #000;
    }

    /* 查詢與功能按鈕區塊 */
    .search-bar {
        background-color: #ffffff;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        margin-bottom: 30px;
        display: flex;
        align-items: center;
        gap: 20px;
        flex-wrap: wrap;
    }

    .search-group {
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .search-group label {
        font-weight: bold;
        color: #555;
        white-space: nowrap;
    }

    /* 下拉選單與輸入框一致性設計 */
    select, .input-search {
        padding: 8px 12px;
        border: 1px solid #ddd;
        border-radius: 5px;
        outline: none;
        min-width: 120px;
        background-color: #fff;
    }

    .input-search {
        width: 150px;
        transition: border-color 0.3s;
    }

    .input-search:focus {
        border-color: #007bff;
    }

    /* 按鈕樣式 */
    .btn-query {
        background-color: #007bff;
        color: white;
        border: none;
        padding: 8px 20px;
        border-radius: 5px;
        cursor: pointer;
        font-weight: bold;
        transition: background 0.3s;
    }

    .btn-query:hover {
        background-color: #0056b3;
    }

    .btn-add {
        background-color: #ffc1c1;
        color: #333;
        border: none;
        padding: 8px 20px;
        border-radius: 5px;
        cursor: pointer;
        font-weight: bold;
        margin-left: auto;
        text-decoration: none;
    }

    /* 餐點卡片網格 */
    .food-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 25px;
    }

    .food-card {
        background-color: #e0e0e0;
        border-radius: 12px;
        padding: 20px;
        display: flex;
        flex-direction: column;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }

    .food-image-placeholder {
        background-color: white;
        width: 100%;
        height: 200px;
        border-radius: 8px;
        margin-bottom: 15px;
        display: flex;
        justify-content: center;
        align-items: center;
        overflow: hidden;
    }

    .food-image-placeholder img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .food-info {
        font-size: 1rem;
        line-height: 1.8;
        color: #333;
    }

    .food-info b {
        color: #000;
    }

    .edit-btn-container {
        display: flex;
        justify-content: flex-end;
        margin-top: 15px;
    }

    .edit-btn {
        background-color: #ffc1c1;
        border: none;
        padding: 6px 18px;
        border-radius: 8px;
        cursor: pointer;
        text-decoration: none;
        color: #000;
        font-weight: bold;
        font-size: 0.9rem;
    }

    /* 響應式設計 */
    @media (max-width: 900px) {
        .food-grid { grid-template-columns: repeat(2, 1fr); }
    }
    @media (max-width: 600px) {
        .food-grid { grid-template-columns: 1fr; }
        .search-bar { flex-direction: column; align-items: flex-start; }
        .btn-add { margin-left: 0; }
    }
</style>
</head>
<body>

    <div class="main-container">
        <table id="table-1">
            <tr>
                <td><h3>餐飲總覽 - FoodList</h3></td>
            </tr>
        </table>
        
        <div style="text-align: left;">
            <a th:href="@{/food/}" class="btn-all">全部餐點</a>
        </div>

        <div class="search-bar">
            <form method="get" th:action="@{/food/listByStatus}" class="search-group">
                <label>狀態：</label>
                <select name="status">
                    <option value="1">上架</option>
                    <option value="0">下架</option>
                </select>
                <button type="submit" class="btn-query">查詢</button>
            </form>

			<form method="get" th:action="@{/food/listByCate}"
				class="search-group">
				<label>種類：</label> <select name="foodCategoryId">
					<option th:each="cate : ${foodCateList}"
						th:value="${cate.foodCategoryId}"
						th:text="${cate.categoryName}"></option>
				</select>
				<button type="submit" class="btn-query">查詢</button>
			</form>

			<form method="get" th:action="@{/food/listByName}" class="search-group">
                <label>名稱：</label>
                <input type="text" name="foodName" placeholder="輸入餐點名稱" class="input-search">
                <button type="submit" class="btn-query">查詢</button>
            </form>

            <a th:href="@{/food/addFood}" class="btn-add">新增品項</a>
        </div>

        <div class="food-grid">
            <div class="food-card" th:each="foodVO : ${foodList}">
                <div class="food-image-placeholder">
                    <th:block th:if="${foodVO.foodImage != null}">
                        <img th:src="@{/food/imageReader(foodId=${foodVO.foodId})}" th:alt="${foodVO.foodName}">
                    </th:block>
                    <th:block th:unless="${foodVO.foodImage != null}">
                        <span style="color:#bbb">無餐點圖片</span>
                    </th:block>
                </div>

                <div class="food-info">
                    <div><b>餐點名稱：</b> [[${foodVO.foodName}]]</div>
                    <div><b>原價：</b> [[${foodVO.foodOriginalPrice}]] 元</div>
                    <div><b>網路售價：</b> [[${foodVO.foodPrice}]] 元</div>
                    <div><b>狀態：</b> 
                        <span th:if="${foodVO.foodStatus == 1}">上架</span>
                        <span th:unless="${foodVO.foodStatus == 1}" style="color:red">下架</span>
                    </div>
                </div>

                <div class="edit-btn-container">
                    <a th:href="@{/food/getOne_For_Update(foodId=${foodVO.foodId})}" class="edit-btn">編輯</a>
                </div>
            </div>
        </div>
    </div>

</body>
</html>