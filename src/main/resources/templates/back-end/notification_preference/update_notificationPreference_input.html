<div th:fragment="content">
  <style>
    .page-title{
      font-size: 30px;
      font-weight: 800;
      color:#2f3b4a;
      margin: 10px 0 18px;
    }
    .msg-box{
      margin-top:10px;
      border:1px solid #d9d9d9;
      border-radius:5px;
      background:#fff;
      padding:0;
    }
    .msg-textarea{
      width:100%;
      min-height:150px;
      border:0;
      outline:0;
      resize: vertical;
      padding:14px 14px;
      font-size:18px;
      line-height:1.7;
      color:#2f3b4a;
    }
    .msg-textarea::placeholder{
      color:#9aa4b2;
      font-weight:600;
    }
    .schedule-box{
      margin-top:16px;
      background:#ededed;
      border-radius:12px;
      padding:18px 22px;
      max-width:500px;
    }
    .schedule-title{
      font-weight:700;
      color:#7a7a7a;
      margin-bottom:12px;
      font-size:16px;
    }
    .schedule-row{
      display:flex;
      align-items:center;
      gap:12px;
    }
    .schedule-row select{
      min-width:220px;
      height:44px;
      border:1px solid #cfcfcf;
      border-radius:6px;
      padding:0 12px;
      background:#fff;
      font-size:16px;
      color:#4b5563;
      font-weight:700;
    }
    .btn-black-sm{
      background:#111;
      color:#fff;
      border:1px solid #111;
      padding:8px 14px;
      border-radius:4px;
      font-weight:700;
      font-size:14px;
    }
    .btn-black-sm:hover{ filter:brightness(.95); }
    .error{
      color:#d60000;
      font-weight:800;
      margin-top:8px;
      display:block;
    }
    .flash{
      max-width: 500px;
      margin: 10px 0 0;
      padding: 12px 14px;
      border-radius: 8px;
      font-weight: 800;
    }
    .flash-ok{
      background:#e9fff0;
      border:1px solid #b7f0c7;
      color:#146c2e;
    }
    .flash-err{
      background:#fff0f0;
      border:1px solid #f3bcbc;
      color:#a40000;
    }
  </style>

  <div class="container-fluid">

    <div class="page-title">喜好通知編輯</div>

    <!-- flash message -->
    <div th:if="${success}" class="flash flash-ok" th:text="${success}"></div>
    <div th:if="${error}"   class="flash flash-err" th:text="${error}"></div>

    <form th:action="@{/notification_preference/update}" method="post" th:object="${messageVO}">

      <!-- 內容 -->
      <div class="msg-box">
        <textarea class="msg-textarea"
                  th:field="*{msgContent}"
                  placeholder="親愛的用戶您好：此封訊息為依據您的喜好，所發送推薦電影..."></textarea>
      </div>
      <span th:if="${#fields.hasErrors('msgContent')}"
            th:errors="*{msgContent}"
            class="error"></span>

      <!-- 提前小時 -->
      <div class="schedule-box">
        <div class="schedule-title">設定預先發送時間:</div>
        <div class="schedule-row">
          <select th:field="*{preHours}">
            <option value="" selected>請選擇小時</option>
            <option value="24">24 小時</option>
            <option value="48">48 小時</option>
            <option value="72">72 小時</option>
          </select>
          <button class="btn-black-sm" type="submit">儲存設定</button>
        </div>
      </div>

    </form>
  </div>
</div>
