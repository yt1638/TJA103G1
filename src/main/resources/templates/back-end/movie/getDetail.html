<div th:fragment="content">
    <style>
        /* 1. å®¹å™¨å„ªåŒ–ï¼šç§»é™¤ body çš„ flex é™åˆ¶ï¼Œæ”¹ç”¨å¾Œå°ä½ˆå±€ */
        .detail-card {
            background: #ffffff;
            border: none;
            border-radius: 10px;
            box-shadow: 0 0.15rem 1.75rem 0 rgba(58, 59, 69, 0.1);
            margin-bottom: 2rem;
        }

        .detail-header {
            background-color: #f8f9fc;
            border-bottom: 1px solid #e3e6f0;
            padding: 1.25rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .detail-title {
            color: #4e73df;
            font-weight: bold;
            margin: 0;
            font-size: 1.25rem;
        }

        /* 2. ç¶²æ ¼ä½ˆå±€ï¼šä½¿ç”¨å½ˆæ€§ Flex æˆ– CSS Gridï¼Œä½†ç§»é™¤å›ºå®šå¯¬åº¦ */
        .detail-body {
            padding: 2rem;
        }

        .form-grid {
            display: grid;
            grid-template-columns: 300px 1fr; /* å·¦å´å›ºå®šæµ·å ±å€å¯¬åº¦ */
            gap: 2rem;
        }

        /* 3. æµ·å ±å€å„ªåŒ– */
        .image-display-area {
            width: 100%;
            border-radius: 8px;
            background-color: #eaecf4;
            border: 1px solid #d1d3e2;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            aspect-ratio: 2/3; /* ä¿æŒé›»å½±æµ·å ±æ¯”ä¾‹ */
        }
        
        .movie-poster {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* 4. æ¬„ä½æ¨£å¼å„ªåŒ– */
        .form-group {
            margin-bottom: 1rem;
            display: flex;
            border-bottom: 1px solid #f8f9fc;
            padding-bottom: 0.5rem;
        }

        .form-group label {
            font-weight: 700;
            color: #4e73df;
            width: 120px; 
            flex-shrink: 0;
            margin-bottom: 0;
            padding-top: 0.2rem;
        }
        
        .content-display {
            flex-grow: 1;
            color: #5a5c69;
            line-height: 1.6;
            word-break: break-all;
        }

        .content-display.large-text {
            min-height: 100px;
            background: #f8f9fc;
            padding: 10px;
            border-radius: 5px;
        }

        /* 5. æ¨™ç±¤èˆ‡ç‹€æ…‹ */
        .status-badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.85rem;
        }
        .status-1 { background: #e7f6ed; color: #28a745; }
        .status-2 { background: #e8f0fe; color: #4285f4; }
        .status-3 { background: #fdf2f2; color: #dc3545; }

        /* éŸ¿æ‡‰å¼èª¿æ•´ */
        @media (max-width: 992px) {
            .form-grid {
                grid-template-columns: 1fr; /* æ‰‹æ©Ÿç‰ˆæ”¹ç‚ºå–®æ¬„ */
            }
            .image-display-area {
                max-width: 300px;
                margin: 0 auto 1.5rem auto;
            }
        }
    </style>

    <nav aria-label="breadcrumb">
        <ol class="breadcrumb" style="background: transparent; padding-left: 0;">
            <li class="breadcrumb-item"><a th:href="@{/movie/}">é›»å½±ç®¡ç†</a></li>
            <li class="breadcrumb-item active" aria-current="page">é›»å½±è©³ç´°è³‡è¨Š</li>
        </ol>
    </nav>

    <div class="detail-card">
        <div class="detail-header">
            <h2 class="detail-title">ğŸ¬ <span th:text="${movieVO.nameTw}">é›»å½±åç¨±</span></h2>
            <form th:action="@{/movie/getOne_For_Update}" method="get">
                <input type="hidden" name="movieId" th:value="${movieVO.movieId}">
                <button type="submit" class="btn btn-primary btn-icon-split">
                    <span class="text">ç·¨è¼¯æ­¤é›»å½±</span>
                </button>
            </form>
        </div>
        
        <div class="detail-body">
            <div class="form-grid">
                
                <div class="form-left">
                    <div class="image-display-area">
                        <img th:if="${movieVO.image != null}"
                             th:src="@{/movie/imageReader(movieId=${movieVO.movieId})}"
                             class="movie-poster">
                        <span th:if="${movieVO.image == null}" class="text-muted">ç„¡æµ·å ±</span>
                    </div>
                    
                    <div class="mt-4">
                        <div class="form-group">
                            <label>é›»å½±ç‹€æ…‹</label>
                            <div class="content-display">
                                <span th:switch="${movieVO.status}" class="status-badge" 
                                      th:classappend="${'status-' + movieVO.status}">
                                    <span th:case="1">ä¸Šæ˜ ä¸­</span>
                                    <span th:case="2">å³å°‡ä¸Šæ˜ </span>
                                    <span th:case="3">å·²ä¸‹æ˜ </span>
                                    <span th:case="*">æœªè¨­å®š</span>
                                </span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>ç‰‡é•·</label>
                            <div class="content-display" th:text="${movieVO.duration + ' åˆ†é˜'}"></div>
                        </div>
                        <div class="form-group">
                            <label>ç™¼è¡Œå•†</label>
                            <div class="content-display" th:text="${movieVO.publisher}"></div>
                        </div>
                    </div>
                </div>

                <div class="form-right">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label>ä¸­æ–‡åç¨±</label>
                                <div class="content-display font-weight-bold" th:text="${movieVO.nameTw}"></div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label>è‹±æ–‡åç¨±</label>
                                <div class="content-display" th:text="${movieVO.nameEng}"></div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label>ä¸Šæ˜ æ—¥æœŸ</label>
                                <div class="content-display" th:text="${movieVO.releaseDate}"></div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label>ä¸‹æª”æ—¥æœŸ</label>
                                <div class="content-display" th:text="${movieVO.endDate}"></div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>é›»å½±åˆ†é¡</label>
                        <div class="content-display">
                            <span th:each="emt, s : ${movieVO.eachMovieTypes}" 
                                  class="badge badge-secondary mr-1" 
                                  th:text="${emt.movieType.typeName}"></span>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>åˆ†ç´š</label>
                        <div class="content-display" th:text="${movieVO.rating}"></div>
                    </div>

                    <div class="form-group">
                        <label>å°æ¼”</label>
                        <div class="content-display" th:text="${movieVO.director}"></div>
                    </div>

                    <div class="form-group">
                        <label>æ¼”å“¡</label>
                        <div class="content-display" th:text="${movieVO.actor}"></div>
                    </div>

                    <div class="form-group">
                        <label>é å‘Šç‰‡Id</label>
                        <div class="content-display" th:text="${movieVO.trailer}"></div>
                    </div>
                    
                    <div class="form-group border-0">
                        <label>é›»å½±ç°¡ä»‹</label>
                        <div class="content-display large-text" th:text="${movieVO.introduction}"></div>
                    </div>
                </div>
                
            </div>
        </div>
    </div>
</div>